(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(7434)}])},782:function(n,e,t){"use strict";t.d(e,{Bd:function(){return l},JF:function(){return s},qb:function(){return a}});var r=t(7568),i=t(655),o=t(3454);function l(){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(){return(0,i.__generator)(this,function(n){return[2,fetch("".concat("http://localhost:8080","/post"),{method:"GET"})]})})).apply(this,arguments)}function s(n){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(function(n){return(0,i.__generator)(this,function(e){return[2,fetch("".concat("http://localhost:8080","/post/").concat(n),{method:"GET"})]})})).apply(this,arguments)}function a(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(function(n){return(0,i.__generator)(this,function(e){return[2,fetch("".concat(o.env.REACT_APP_BACKEND_URI,"/post"),{method:"POST",body:JSON.stringify(n)})]})})).apply(this,arguments)}},7434:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return C}});var r=t(7568),i=t(1799),o=t(603),l=t(655),c=t(5893),s=t(8864),u=t(4991),a=t(2615),d=t(7841),h=t(2445),f=t(6137),p=t(9236),j=t(7294),v=t(782),x=t(9111),m=t(5117),g=t(7516),_=t(1649),w=t(2609),b=function(){var n=(0,w.Z)(),e=n.logout,t=n.user;return(0,c.jsxs)("div",{className:"nav",children:[(0,c.jsxs)(x.v,{shadow:"md",width:200,children:[(0,c.jsx)(x.v.Target,{children:(0,c.jsx)(d.z,{variant:"light",color:"gray",children:(0,c.jsx)(_.rzH,{color:"gray"})})}),(0,c.jsxs)(x.v.Dropdown,{children:[(0,c.jsx)(x.v.Label,{children:"Danger zone"}),(0,c.jsx)(x.v.Item,{onClick:function(){e(),window.location.replace(window.location.origin)},color:"red",icon:(0,c.jsx)(g.XqV,{size:14}),children:"Logout"})]})]}),(0,c.jsxs)(m.x,{color:"gray",children:["Welcome to the Admin Area, ",null==t?void 0:t.name]})]})},y=t(1017),N=t(7789),Z=function(n){var e=n.title,t=n.description,r=n.image;return n.id,(0,c.jsxs)(y.Z,{className:"project-item admin",withBorder:!0,children:[(0,c.jsxs)(f.Z,{mb:"md",children:[(0,c.jsx)(N.C,{color:"gray",children:"edit"}),(0,c.jsx)(N.C,{color:"red",children:"delete"})]}),(0,c.jsx)("div",{className:"image",style:r?{backgroundImage:"url(".concat(r,")")}:{}}),(0,c.jsxs)("div",{className:"description",children:[(0,c.jsx)("h1",{children:e}),(0,c.jsx)("p",{children:t})]})]})};function C(){var n,e=(0,o.Z)((0,j.useState)({data:[]}),2),t=e[0],x=e[1];(0,j.useEffect)(function(){var n;(0,v.Bd)().then((n=(0,r.Z)(function(n){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,n.json()];case 1:return x(e.sent()),[2]}})}),function(e){return n.apply(this,arguments)}))},[]);var m=(0,w.Z)().loggedIn,g=(0,o.Z)((0,j.useState)(!1),2),_=g[0],y=g[1],N=(0,j.useRef)(null),C=(0,j.useRef)(null),E=(0,j.useRef)(null),k=(0,j.useRef)(null);return(0,c.jsx)(c.Fragment,{children:m?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.u,{style:{top:50},opened:_,onClose:function(){return y(!1)},title:"New post!",children:(0,c.jsxs)("form",{onSubmit:function(n){var e,t,r,i;n.preventDefault(),(0,v.qb)({title:null===(e=N.current)||void 0===e?void 0:e.value,description:null===(t=E.current)||void 0===t?void 0:t.value,body:null===(r=k.current)||void 0===r?void 0:r.value,image:null===(i=C.current)||void 0===i?void 0:i.value})},children:[(0,c.jsx)(u.o,{required:!0,ref:N,label:"title"}),(0,c.jsx)(u.o,{required:!0,ref:E,label:"description"}),(0,c.jsx)(u.o,{ref:C,label:"image url"}),(0,c.jsx)(a.g,{required:!0,ref:k,mb:"xl",label:"body"}),(0,c.jsx)(d.z,{type:"submit",children:"Create new post"})]})}),(0,c.jsxs)(h.W,{p:"xl",children:[(0,c.jsx)(b,{}),(0,c.jsxs)(f.Z,{mt:60,position:"apart",children:[(0,c.jsx)(p.D,{children:"Posts"}),(0,c.jsx)(d.z,{onClick:function(){return y(!0)},children:"New Post"})]}),(0,c.jsx)("div",{className:"projects",children:(null==t?void 0:t.data)?t.data.length>0?null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.map(function(n){return(0,c.jsx)(Z,(0,i.Z)({},n),n.id)}):(0,c.jsx)("p",{children:"No data..."}):"no content loaded..."})]})]}):window.location.replace(window.location.origin+"/admin/login")})}}},function(n){n.O(0,[997,954,854,774,888,179],function(){return n(n.s=4830)}),_N_E=n.O()}]);